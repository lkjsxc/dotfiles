# Configuration reference

This file explains the purpose and structure of `configuration.nix`.

Key points

- `imports` pulls in `hardware-configuration.nix`.
- System services are configured through `services.*` and `programs.*` attributes.
- User accounts live under `users.users.*`.
- System-wide packages live in `environment.systemPackages`.

Editing guidance

- Edit `configuration.nix` for functional changes. Keep changes minimal and test locally:

  - `sudo nixos-rebuild switch --flake .#main`

- Avoid editing `hardware-configuration.nix` directly; it is generated by `nixos-generate-config`.

Examples

- To enable SSH:

  ```nix
  services.openssh.enable = true;
  ```

Maintenance

- When adding large sections, prefer creating a `modules/` directory and importing modules from `configuration.nix`.
